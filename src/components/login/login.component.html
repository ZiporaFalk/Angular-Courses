<h2>התחברות</h2>
<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
        <mat-label>מייל</mat-label>
        <input matInput type="email" formControlName="email" placeholder="הכנס את המייל שלך" required>
        @if (loginForm.get('email')?.hasError('required')) {
        <mat-error>מייל הוא שדה חובה</mat-error>
        } @else if (loginForm.get('email')?.hasError('email')) {
        <mat-error>המייל לא תקני</mat-error>
        }
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>סיסמה</mat-label>
        <input matInput type="password" formControlName="password" placeholder="הכנס סיסמה" required>
        @if (loginForm.get('password')?.hasError('required')) {
        <mat-error>סיסמה היא שדה חובה</mat-error>
        } @else if (loginForm.get('password')?.hasError('minlength')) {
        <mat-error>הסיסמה חייבת להיות לפחות 4 תווים</mat-error>
        } @else if (loginForm.get('password')?.hasError('maxlength')) {
        <mat-error>הסיסמה לא יכולה להיות יותר מ-8 תווים</mat-error>
        }
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid">שלח</button>
</form>

@if (successMessage) {
<div class="success-message">
    {{ successMessage }}
</div>
}